<ion-header-bar class="bar-calm">
    <h1 class="title">Complete a Task</h1>
</ion-header-bar>
<ion-view view-title="Complete a Task">
    <ion-content overflow-scroll="false">
        <ion-refresher
                pulling-text="Pull to refresh..."
                on-refresh="doRefresh()">
        </ion-refresher>
        <label class="item item-input">
            <i class="icon ion-search placeholder-icon"></i>
            <input type="text" placeholder="Type To Search For A Task" ng-model="search.taskName">
        </label>
        <div class="list" ng-repeat="category in categories">
            <div class="item item-divider item-calm dark" ng-click="toggleTab(category)" ng-class="isOpen(category) ? 'icon ion-plus' : 'icon ion-minus'" ng-show="(category.tasks | filter:search:strict).length > 0">
                {{category.categoryName}}
            </div>
            <a class="item item-icon-right" href="#" ng-repeat="task in category.tasks | filter:search:strict" ng-click="getTaskData(category.categoryId, task)" ng-show="!isOpen(category)">
                <p>{{task.dateComplete}}</p>
                <i class="icon ion-checkmark-round balanced invisible" id="task_{{task.taskId}}"></i>
                {{task.taskName}}
            </a>
        </div>
    </ion-content>
</ion-view>
<ion-footer-bar class="tabs tabs-icon-left tabs-calm">
    <a class="tab-item pull-right" ng-click="home()">
        <i class="icon ion-home"></i>
        Home
    </a>
    <a class="tab-item" ng-click="clearSession()">
        <i class="icon ion-log-out"></i>
        Sign out
    </a>
</ion-footer-bar>